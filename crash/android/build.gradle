apply plugin: 'com.android.library'
apply plugin: 'maven-publish'

buildscript {
    repositories {
        maven { url 'https://developer.huawei.com/repo/' }
        google()
        jcenter()
    }
    dependencies {
        classpath 'com.android.tools.build:gradle:7.4.2'
        classpath('com.huawei.agconnect:agcp:1.9.1.301')
    }
}

android {
    buildToolsVersion = "33.0.0"
    compileSdkVersion = 33
    defaultConfig {
        minSdkVersion 21
        targetSdkVersion = 33
        versionCode 1
        versionName "1.0"
    }
    lintOptions {
        abortOnError false
    }
    compileOptions {
        sourceCompatibility JavaVersion.VERSION_1_8
        targetCompatibility JavaVersion.VERSION_1_8
    }
}

repositories {
    mavenLocal()
    maven {
        url "$rootDir/../node_modules/react-native/android"
    }
    maven {
        url "$rootDir/../node_modules/jsc-android/dist"
    }
    maven { url 'https://developer.huawei.com/repo/' }
    google()
    jcenter()
}

dependencies {
    //noinspection GradleDynamicVersion
    implementation 'com.facebook.react:react-native:+'
    implementation 'com.huawei.agconnect:agconnect-crash:1.9.1.301'
    // The Analytics SDK must be integrated for Crash SDK 1.8.0.300 or later.
    implementation 'com.huawei.hms:hianalytics:6.9.0.301'
// We recommend you integrate the APM SDK to further locate whether an app crash is caused by an app event such as ANR, launch, or network request, or app behavior.
    implementation 'com.huawei.agconnect:agconnect-apms:1.6.2.300'
}
